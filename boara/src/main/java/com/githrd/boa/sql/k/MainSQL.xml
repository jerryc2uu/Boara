<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
			
<!-- 

 이 클래스는 메인페이지 관련 질의명령을 기억하고 
 필요한 순간에 반환해주는 클래스
 
  @author	김소연
  @since	2022.06.29
  @version	v.1.0
  
  			작업이력 ]
  				2022.06.29	-	담당자 ] 김소연
 								클래스제작, top 게시글 조회
 
  -->
<mapper namespace="maSQL">

	<!-- weekly 조회수 top5  -->
	<select id="topBoard" resultType="fVO" >
	SELECT
	    bno, savename, title, click
	FROM
	    (
	    SELECT
	        ROWNUM rno, bno, savename, title, click
	    FROM
	        (
	            SELECT
	                f.bno bno, savename, title, click
	            FROM
	                imgfile f, board b
	            WHERE
	                f.whereis = 'B'
	                AND f.isshow ='C'
	                AND b.bno = f.bno
	            ORDER BY 
	                click DESC
	        )
	    )
	    WHERE
	    rno <![CDATA[<=]]> 5
	   <!--  AND wdate <![CDATA[>=]]> (sysdate-7) db 수정할때 추가-->
	</select>

 
</mapper>