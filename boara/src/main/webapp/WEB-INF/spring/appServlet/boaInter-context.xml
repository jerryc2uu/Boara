<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/mvc 
						https://www.springframework.org/schema/mvc/spring-mvc.xsd
						http://www.springframework.org/schema/beans 
						https://www.springframework.org/schema/beans/spring-beans.xsd">

	<beans:bean id="loginRedirect" class="com.githrd.boa.interceptor.LoginRedirectInterceptor" />
	<beans:bean id="collRedirect" class="com.githrd.boa.interceptor.CollectionInterceptor" />
	<beans:bean id="boardRedirect" class="com.githrd.boa.interceptor.BoardInterceptor" />
	
	<interceptors>
		<interceptor>
			<!-- 박소연 -->
			<mapping path = "/reboard/reboardWrite.boa" />
			<mapping path = "/reboard/reboardWriteProc.boa" />
			<mapping path = "/reboard/reboardComment.boa" />
			<mapping path = "/reboard/reboardCommentProc.boa" />
			<mapping path = "/reboard/reboardEdit.boa" />
			<mapping path = "/reboard/reboardEditProc.boa" />
			<mapping path = "/reboard/reboardDel.boa" />
			<mapping path = "/member/myinfo.boa" />
			<mapping path = "/member/mybuy.boa" />
			<mapping path = "/member/mypoint.boa" />
			<mapping path = "/member/mylike.boa" />
			<mapping path = "/member/myjjim.boa" />
			<mapping path = "/member/myboard.boa" />
			<mapping path = "/member/myreboard.boa" />
			<mapping path = "/member/addpoint.boa" />
			<!-- 김소연 -->
			<!-- 최이지 -->
			<mapping path="/collection/*.boa" />
			<mapping path="/board/*.boa" />
			
			<!-- 예외 처리 -->
			<!-- 최이지 -->
			<exclude-mapping path="/collection/collecList.boa" />
			<exclude-mapping path="/board/boardList.boa" />
			<exclude-mapping path="/board/boardDetail.boa*" />
			
			<beans:ref bean="loginRedirect" />
		</interceptor>
		
		<!-- cno 파라미터 없을 때 컬렉션 리스트로 이동 -->
		<interceptor>
			<!-- 최이지 -->
			<mapping path="/board/boardList.boa" />
			<mapping path="/collection/collecEdit.boa" />
			
			<beans:ref bean="collRedirect" />
		</interceptor>
		
		<!-- bno 파라미터 없을 때 컬렉션 리스트로 이동 -->
		<interceptor>
			<!-- 최이지 -->
			<mapping path="/board/boardDetail.boa" />
			<mapping path="/board/boardEdit.boa" />
			
			<beans:ref bean="boardRedirect" />
		</interceptor>
		
	</interceptors>
</beans:beans>
